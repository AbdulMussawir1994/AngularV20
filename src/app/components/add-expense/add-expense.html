<div class="page">
  <form class="card" [formGroup]="form" (ngSubmit)="submit()">
    <h2>Add Expense</h2>

    <label>
      Title
      <input formControlName="title" placeholder="Please Enter Title" />
      @if (control('title').touched && control('title').invalid) {
      <small>Minimum 3 characters</small>
      }
    </label>

    <label>
      Category
      <select formControlName="category">
        @for (c of categories; track c) {
        <option [value]="c">{{ c }}</option>
        }
      </select>
    </label>

    <label>
      Type
      <select formControlName="type">
        @for (t of types; track t) {
        <option [value]="t">{{ t }}</option>
        }
      </select>
    </label>

    <label>
      Due Date
      <input type="date" formControlName="dueDate" />
    </label>

    <label>
      Amount
      <input type="text" formControlName="amount" value="0" placeholder="Please Enter Amount" />
      @if (control('amount').touched && control('amount').invalid) {
      <small>Amount must be greater than 0</small>
      }
    </label>

    <button type="submit" [disabled]="form.invalid || isSubmitting()">
      {{ isSubmitting() ? 'Saving...' : 'Add Expense' }}
    </button>
  </form>
</div>
