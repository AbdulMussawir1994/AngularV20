@if (loading()) {
<div class="spinner-overlay">
  <div class="spinner"></div>
</div>
}

<div class="auth-wrapper">
  <div class="bubble-wrapper">
    <div class="auth-card">
      <h1>Add Expense</h1>

      <form [formGroup]="form" (ngSubmit)="submit()" novalidate>
        <input type="text" placeholder="Title" formControlName="title" />
        <p class="form-error" [class.hidden]="!isInvalid('title')">
          {{ error('title') }}
        </p>

        <input type="text" placeholder="Amount" formControlName="amount" />
        <p class="form-error" [class.hidden]="!isInvalid('amount')">
          {{ error('amount') }}
        </p>

        <select formControlName="category">
          <option value="" disabled>Select Category</option>
          @for (c of categories; track c) {
          <option [value]="c">{{ c }}</option>
          }
        </select>
        <p class="form-error" [class.hidden]="!isInvalid('category')">
          {{ error('category') }}
        </p>

        <!-- <select formControlName="category">
  <option value="" disabled>Select Category</option>
  <option *ngFor="let c of categories" [value]="c">
    {{ c }}
  </option>
</select> -->

        <input type="date" formControlName="dueDate" />

        <select formControlName="type">
          <option value="" disabled>Select Type</option>
          @for (t of types; track t) {
          <option [value]="t">{{ t }}</option>
          }
        </select>
                <p class="form-error" [class.hidden]="!isInvalid('type')">
          {{ error('type') }}
        </p>

        <button class="submit-btn" type="submit" [disabled]="submitting()">
          {{ submitting() ? 'Saving...' : 'Save Expense' }}
        </button>
      </form>

      <ul class="colorlib-bubbles">
        @for (b of bubbles; track $index) {
        <li></li>
        }
      </ul>
    </div>
  </div>
</div>
